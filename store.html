<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Space Racer - Shop</title>
    <link rel="stylesheet" href="stylesheet.css">
</head>
<body>
    <header>
        <h3>Space Racer</h3>
        <div>
            <a href="index.html" onclick="newRace()">Play</a>
            <a href="ship.html">Ship</a>
            <a href="store.html">Store</a>
            <a href="settings.html">Settings</a>
        </div>
    </header>

    <h1>Shop</h1>
        <div id="gatcha">
            <p id="suns">☀️: 0</p>
            <!--There will be random stats which range is based off of the rarity, if theyre ship is better tell them then scrap it for the stats added together-->
            <button onclick="common()">Buy common ship [60 ☀️]</button>
            <button onclick="rare()">Buy rare ship [120 ☀️]</button>
            <button onclick="legend()">Buy legend ship [180 ☀️]</button>
            <button onclick="epic()">Buy epic ship [220 ☀️]</button>
        </div>

        <p id="console">CONSOLE: . . .</p>
</body>

<script>

    setInterval(onTick, 1)
    function onTick(){
        document.querySelector("#suns").textContent = "☀️: " + localStorage.getItem("SRcyberGold")
    }

    //random
    function randomNum(min, max) {
        min = Math.ceil(min);
        max = Math.floor(max);
        return Math.floor(Math.random() * (max - min + 1) + min); // The maximum is inclusive and the minimum is inclusive
    }

    function makeShip(quality){
        qstring = "MT"
        if (quality == 1){
            qstring = "Common"
        }else if (quality == 2){
            qstring = "Rare"
        }else if (quality == 3){
            qstring = "Legend"
        }else if (quality == 4){
            qstring = "Epic"
        }

        
        localStorage.setItem("SRspeed", randomNum(quality, 4))
        localStorage.setItem("SRhandling", randomNum(quality, 10))
        localStorage.setItem("SRnitro", randomNum(quality, 3))
        
        document.querySelector("#console").textContent = "CONSOLE: New " + qstring + " ship purchased! See it in the ships tab."
    }


    function purchaseShip(price , QQL){
        SRCGamt = parseInt(localStorage.getItem("SRcyberGold"))
        
        if (SRCGamt >= price){
            localStorage.setItem("SRcyberGold", parseInt(localStorage.getItem("SRcyberGold")) - price)
            makeShip(QQL)
        }else if(SRCGamt < price){
            document.querySelector("#console").textContent = "CONSOLE: You dont have that much!"
        }else{
            document.querySelector("#console").textContent = "CONSOLE: !"

        }
        
    }


    function common(){
        purchaseShip(60, 1)
    }
    function rare(){
        purchaseShip(120, 2)
    }
    function legend(){
        purchaseShip(180, 3)
    }
    function epic(){
        purchaseShip(220, 4)
    }



</script>



</html>